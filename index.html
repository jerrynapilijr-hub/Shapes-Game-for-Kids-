<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shapes Game for Kids!</title>
  <style>
    body {
      margin: 0;
      font-family: Comic Sans MS, Arial, sans-serif;
      text-align: center;
      background: #f0f8ff;
      user-select: none;
    }
    h1 {
      margin: 20px 0;
      color: #ff4500;
      text-shadow: 2px 2px 4px #aaa;
    }
    #game-area {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin: 30px auto;
      max-width: 600px;
    }
    .shape {
      width: 100px;
      height: 100px;
      cursor: pointer;
      border: 3px solid black;
      border-radius: 10px;
      position: relative;
    }
    /* Shapes */
    .circle { background: red; border-radius: 50%; }
    .square { background: blue; }
    .triangle {
      width: 0; height: 0;
      border-left: 50px solid transparent;
      border-right: 50px solid transparent;
      border-bottom: 100px solid green;
      background: none; border-radius: 0;
    }
    .star {
      background: gold;
      clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 
        68% 57%, 79% 91%, 50% 70%, 
        21% 91%, 32% 57%, 2% 35%, 39% 35%);
    }
    .hexagon {
      background: purple;
      clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 
                        75% 100%, 25% 100%, 0% 50%);
    }
    .heart {
      background: pink;
      clip-path: polygon(50% 90%, 90% 40%, 75% 15%, 
                        50% 30%, 25% 15%, 10% 40%);
    }
    .diamond {
      background: cyan;
      clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
    }
    .oval {
      background: orange;
      border-radius: 50% / 30%;
    }
    .pentagon {
      background: brown;
      clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 
                        18% 100%, 0% 38%);
    }
    .cross {
      background: lime;
      clip-path: polygon(30% 0%, 70% 0%, 70% 30%, 
                        100% 30%, 100% 70%, 70% 70%, 
                        70% 100%, 30% 100%, 30% 70%, 
                        0% 70%, 0% 30%, 30% 30%);
    }
    .trapezoid {
      background: teal;
      clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);
    }
    .crescent {
      background: yellow;
      border-radius: 50%;
      position: relative;
    }
    .crescent::after {
      content: "";
      position: absolute;
      width: 100%;
      height: 100%;
      background: #f0f8ff;
      border-radius: 50%;
      top: 0;
      left: 25%;
    }
    .checkmark {
      position: absolute;
      top: 35%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 40px;
      color: white;
      text-shadow: 2px 2px 5px black;
      display: none;
    }
    #status, #level, #instruction, #timer, #high-score {
      font-size: 22px;
      margin: 10px 0;
      color: #333;
      font-weight: bold;
    }
    #controls { margin-top: 20px; }
    button {
      padding: 10px 15px;
      margin: 5px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background: #333;
      color: white;
    }
    #lives { font-size: 20px; margin-top: 10px; color: crimson; }
    #end-screen {
      display: none;
      font-size: 24px;
      font-weight: bold;
      margin-top: 30px;
      color: #444;
    }
  </style>
</head>
<body>

  <h1>üéÆ Shapes Game for Kids!</h1>
  <div id="level">Level: 1</div>
  <div id="instruction">Click the shape: <b>Circle</b></div>
  <div id="timer">‚è≥ Time Left: 30s</div>
  <div id="high-score">üèÜ High Score: 0</div>
  <div id="game-area"></div>

  <div id="status">Score: 0</div>
  <div id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>

  <div id="controls">
    <button onclick="restartGame()">üîÑ Restart</button>
    <button onclick="endGame()">‚èπ End Game</button>
  </div>

  <div id="end-screen"></div>

  <!-- üéµ Sound Effects -->
  <audio id="click-sound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
  <audio id="success-sound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
  <audio id="error-sound" src="https://actions.google.com/sounds/v1/cartoon/metal_twang.ogg"></audio>
  <audio id="win-sound" src="https://actions.google.com/sounds/v1/cartoon/concussive_drum_hit.ogg"></audio>

  <script>
    const allShapes = [
      "circle", "square", "triangle", "star",     // Level 1 = 4
      "hexagon", "heart",                        // Level 2 = 6
      "diamond", "oval",                         // Level 3 = 8
      "pentagon", "cross",                       // Level 4 = 10
      "trapezoid", "crescent"                    // Level 5 = 12
    ];

    let level = 1, score = 0, lives = 3, shapesToFind = [], foundShapes = [];
    let currentTarget = "", maxLevel = 5, timer = 30, countdown;
    let highScore = localStorage.getItem("highScore") || 0;

    const gameArea = document.getElementById("game-area");
    const instruction = document.getElementById("instruction");
    const status = document.getElementById("status");
    const livesDisplay = document.getElementById("lives");
    const levelDisplay = document.getElementById("level");
    const endScreen = document.getElementById("end-screen");
    const timerDisplay = document.getElementById("timer");
    const highScoreDisplay = document.getElementById("high-score");

    highScoreDisplay.textContent = "üèÜ High Score: " + highScore;

    function playSound(id) {
      const sound = document.getElementById(id);
      sound.currentTime = 0;
      sound.play();
    }

    function loadLevel() {
      clearInterval(countdown);
      timer = 30;
      updateTimer();
      countdown = setInterval(() => {
        timer--;
        updateTimer();
        if (timer <= 0) {
          clearInterval(countdown);
          gameOver();
        }
      }, 1000);

      gameArea.innerHTML = "";
      foundShapes = [];

      if (level === 1) shapesToFind = allShapes.slice(0, 4);
      if (level === 2) shapesToFind = allShapes.slice(0, 6);
      if (level === 3) shapesToFind = allShapes.slice(0, 8);
      if (level === 4) shapesToFind = allShapes.slice(0, 10);
      if (level === 5) shapesToFind = allShapes.slice(0, 12);

      shapesToFind = shuffle([...shapesToFind]);

      shapesToFind.forEach(shape => {
        const div = document.createElement("div");
        div.classList.add("shape", shape);
        div.setAttribute("data-shape", shape);

        const check = document.createElement("div");
        check.classList.add("checkmark");
        check.textContent = "‚úî";
        div.appendChild(check);

        gameArea.appendChild(div);
      });

      setNextTarget();

      document.querySelectorAll(".shape").forEach(shape => {
        shape.addEventListener("click", () => {
          playSound("click-sound");
          const chosen = shape.getAttribute("data-shape");
          if (chosen === currentTarget) {
            playSound("success-sound");
            foundShapes.push(chosen);
            shape.style.opacity = "0.3";
            shape.style.pointerEvents = "none";
            shape.querySelector(".checkmark").style.display = "block";
            score++;
            status.textContent = "Score: " + score;

            if (foundShapes.length === shapesToFind.length) {
              clearInterval(countdown);
              alert("üéÅ Great job! You finished Level " + level + "!");
              if (level < maxLevel) {
                level++;
                levelDisplay.textContent = "Level: " + level;
                loadLevel();
              } else {
                winGame();
              }
            } else {
              setNextTarget();
            }
          } else {
            playSound("error-sound");
            lives--;
            updateLives();
            if (lives <= 0) gameOver();
          }
        });
      });
    }

    function setNextTarget() {
      const remaining = shapesToFind.filter(s => !foundShapes.includes(s));
      currentTarget = remaining[Math.floor(Math.random() * remaining.length)];
      instruction.innerHTML = "Click the shape: <b>" + capitalize(currentTarget) + "</b>";
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

    function updateLives() {
      livesDisplay.textContent = "‚ù§Ô∏è".repeat(lives);
    }

    function updateTimer() {
      timerDisplay.textContent = "‚è≥ Time Left: " + timer + "s";
    }

    function restartGame() {
      level = 1;
      score = 0;
      lives = 3;
      status.textContent = "Score: " + score;
      updateLives();
      endScreen.style.display = "none";
      gameArea.style.display = "flex";
      instruction.style.display = "block";
      levelDisplay.style.display = "block";
      levelDisplay.textContent = "Level: 1";
      loadLevel();
    }

    function endGame() { gameOver(); }

    function gameOver() {
      clearInterval(countdown);
      if (score > highScore) {
        highScore = score;
        localStorage.setItem("highScore", highScore);
      }
      gameArea.style.display = "none";
      instruction.style.display = "none";
      levelDisplay.style.display = "none";
      endScreen.style.display = "block";
      endScreen.textContent = "üíÄ Game Over! Final Score: " + score;
      highScoreDisplay.textContent = "üèÜ High Score: " + highScore;
    }

    function winGame() {
      clearInterval(countdown);
      playSound("win-sound");
      if (score > highScore) {
        highScore = score;
        localStorage.setItem("highScore", highScore);
      }
      gameArea.style.display = "none";
      instruction.style.display = "none";
      levelDisplay.style.display = "none";
      endScreen.style.display = "block";
      endScreen.textContent = "üéâ Congratulations! You matched all shapes! Final Score: " + score;
      highScoreDisplay.textContent = "üèÜ High Score: " + highScore;
    }

    loadLevel();
  </script>
</body>
</html>
